{"version":3,"sources":["main.js"],"names":["$","document","ready","closeModal","id","modal","burger","removeClass","remove","css","show","openModal","addClass","append","getScrollBarWidth","el","createElement","style","cssText","body","appendChild","width","offsetWidth","clientWidth","on","this","attr","hide","modalId","parents","menuItem","dropdownBox","find","toggleClass","slideToggle","each","select2","placeholder","dropdownPosition","minimumResultsForSearch","dropdownParent","siblings","hideSome","element","resolution","screen","maxItems","itemsToShow","items","children","length","index","moreBtnDom","hiddenItems","Swiper","slidesPerView","loop","navigation","prevEl","nextEl","breakpoints","992","spaceBetween","1365","hasClass","next","slideUp","slideDown","async","ymaps3","YMap","YMapDefaultSchemeLayer","YMapDefaultFeaturesLayer","YMapFeatureDataSource","YMapLayer","YMapControls","YMapMarker","YMapZoomControl","import","YMapDefaultMarker","map","getElementById","location","center","zoom","behaviors","addChild","position","coordinates","main"],"mappings":"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","file":"main.min.js","sourcesContent":["$(document).ready(function () {\r\n\r\n    const getScrollBarWidth = () => {\r\n        let el = document.createElement(\"div\");\r\n        el.style.cssText = \"overflow:scroll; position:absolute;\";\r\n        document.body.appendChild(el);\r\n        let width = el.offsetWidth - el.clientWidth;\r\n        el.remove();\r\n        return width;\r\n    }\r\n\r\n    const closeModal = (id) => {\r\n        const modal = $(`.modal#${id}`)\r\n        const burger = $('.header__mobile-menu-toggle')\r\n        modal.removeClass('opened')\r\n        $(`#modalBg--${id}`).remove()\r\n        $('body').removeClass('modal-opened').css('padding-right', 0)\r\n        burger.css('display') === 'none' &&  burger.show()\r\n    }\r\n\r\n    const openModal = (id) => {\r\n        const modal = $(`.modal#${id}`)\r\n        modal.addClass('opened')\r\n        modal.append(`<div class=\"modal-bg\" id=\"modalBg--${id}\"></div>`)\r\n        $('body').addClass('modal-opened').css('padding-right', getScrollBarWidth())\r\n        $(`#modalBg--${id}`).on('click', function () {\r\n            $(this).remove()\r\n            closeModal(id)\r\n        })\r\n    }\r\n\r\n    $('.js-open-modal').on('click', function () {\r\n        openModal($(this).attr('data-modal'))\r\n        if ($(this).attr('data-mob-menu')) {\r\n            $('.header__mobile-menu-toggle').hide()\r\n        }\r\n    })\r\n\r\n    $('.js-close-modal').on('click', function () {\r\n        const modalId = $(this).parents('.modal').attr('id')\r\n        closeModal(modalId)\r\n    })\r\n\r\n    $('.js-toggle-mobile-menu-dropdown').on('click', function () {\r\n        const menuItem = $(this).parents('.mobile-menu-nav__item')\r\n        const dropdownBox = menuItem.find('.mobile-menu-nav__dropdown-box')\r\n        menuItem.toggleClass('opened')\r\n        dropdownBox.toggleClass('opened')\r\n        dropdownBox.slideToggle(200)\r\n    })\r\n\r\n    const searchSelects = $(\".js-search-select\")\r\n\r\n    searchSelects.each(function () {\r\n        $(this).select2({\r\n            placeholder: 'Тип работы',\r\n            dropdownPosition: 'below',\r\n            minimumResultsForSearch: -1,\r\n            width: '100%',\r\n            dropdownParent: $(this).parents('.select-wrapper')\r\n        })\r\n    })\r\n\r\n    $('.js-show-promocode').on('click', function () {\r\n        $(this).hide()\r\n        $(this).siblings('.js-promocode-input').show()\r\n    })\r\n\r\n    const hideSome = (element, resolution) => {\r\n        if (screen.width > resolution) return\r\n        const maxItems = element.attr('data-max-items')\r\n        const itemsToShow = element.attr('data-items-to-show')\r\n        const items = element.children()\r\n        const itemsQty = items.length\r\n        if (itemsQty <= maxItems) return\r\n        items.each(function (index) {\r\n            if (index >= maxItems) $(this).hide().addClass('hidden')\r\n        })\r\n        const moreBtnMarkup = '<button class=\"more-button js-more-btn common-btn common-btn--purple\">Ещё...</button>'\r\n        element.append(moreBtnMarkup)\r\n        const moreBtnDom = element.find('.js-more-btn')\r\n        moreBtnDom.on('click', function () {\r\n            const hiddenItems = element.children('.hidden')\r\n            if (hiddenItems.length <= itemsToShow) moreBtnDom.remove()\r\n            hiddenItems.each(function (index) {\r\n                if (index < itemsToShow) $(this).show().removeClass('hidden')\r\n            })\r\n        })\r\n    }\r\n\r\n    $('.js-hide-some').each(function () {\r\n        hideSome($(this), 991)\r\n    })\r\n\r\n    const testimonialsSlider = new Swiper('.js-testimonials-slider', {\r\n        slidesPerView: 1,\r\n        loop: true,\r\n        navigation: {\r\n            prevEl: '.swiper-button--prev',\r\n            nextEl: '.swiper-button--next',\r\n        },\r\n        breakpoints: {\r\n            992: {\r\n                slidesPerView: 2,\r\n                spaceBetween: 20,\r\n            },\r\n            1365: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 20,\r\n            },\r\n        }\r\n    });\r\n\r\n    $('.js-accordion-toggle').on('click', function () {\r\n        if (!$(this).hasClass('opened')) {\r\n            $(this).next('.js-accordion-head').slideDown(300).addClass('opened')\r\n            $(this).addClass('opened')\r\n        } else {\r\n            $(this).next('.js-accordion-head').slideUp(300).removeClass('opened')\r\n            $(this).removeClass('opened')\r\n        }\r\n    })\r\n\r\n    // AMlfL08BAAAAigfqIgIAUJy9y-oUrRnCsYIRos-VfSKR64wAAAAAAAAAAABKOgHlk0CHGmtthDrzVUuqMNTaIg==\r\n\r\n    main();\r\n    async function main() {\r\n        await ymaps3.ready;\r\n        const {\r\n            YMap,\r\n            YMapDefaultSchemeLayer, YMapDefaultFeaturesLayer,\r\n            YMapFeatureDataSource, YMapLayer,\r\n            YMapControls,\r\n            YMapMarker\r\n        } = ymaps3;\r\n\r\n        const {YMapZoomControl} = await ymaps3.import('@yandex/ymaps3-controls@0.0.1');\r\n        const {YMapDefaultMarker} = await ymaps3.import('@yandex/ymaps3-markers@0.0.1');\r\n\r\n        const map = new YMap(document.getElementById('mainMap'), {\r\n            location: {\r\n                center: [37.591701, 55.749385],\r\n                zoom: 16\r\n            },\r\n            behaviors: ['pinchZoom', 'drag']\r\n        });\r\n\r\n        map.addChild(new  YMapDefaultSchemeLayer());\r\n        map.addChild(new YMapDefaultFeaturesLayer());\r\n        map.addChild(new YMapControls({position: 'left'}).addChild(new YMapZoomControl({})));\r\n        map.addChild(new YMapDefaultMarker({\r\n            coordinates: [37.591701, 55.749385]\r\n        }));\r\n\r\n    }\r\n});\r\n\r\n\r\n"]}