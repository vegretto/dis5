{"version":3,"sources":["main.js"],"names":["$","document","ready","closeModal","id","modal","burger","removeClass","remove","css","show","openModal","addClass","append","getScrollBarWidth","el","createElement","style","cssText","body","appendChild","width","offsetWidth","clientWidth","on","this","attr","hide","modalId","parents","menuItem","dropdownBox","find","toggleClass","slideToggle","each","select2","placeholder","dropdownPosition","minimumResultsForSearch","dropdownParent","siblings","hideExcesses","element","resolution","screen","maxItems","itemsToShow","items","children","length","index","moreBtnDom","hiddenItems"],"mappings":"aAAAA,EAAEC,UAAUC,OAAM,WAEd,MASMC,EAAcC,IAChB,MAAMC,EAAQL,EAAG,UAASI,GACpBE,EAASN,EAAE,+BACjBK,EAAME,YAAY,UAClBP,EAAG,aAAYI,GAAMI,SACrBR,EAAE,QAAQO,YAAY,gBAAgBE,IAAI,gBAAiB,GACjC,SAA1BH,EAAOG,IAAI,YAA0BH,EAAOI,QAG1CC,EAAaP,IACf,MAAMC,EAAQL,EAAG,UAASI,GAC1BC,EAAMO,SAAS,UACfP,EAAMQ,OAAQ,sCAAqCT,aACnDJ,EAAE,QAAQY,SAAS,gBAAgBH,IAAI,gBAtBjBK,MACtB,IAAIC,EAAKd,SAASe,cAAc,OAChCD,EAAGE,MAAMC,QAAU,sCACnBjB,SAASkB,KAAKC,YAAYL,GAC1B,IAAIM,EAAQN,EAAGO,YAAcP,EAAGQ,YAEhC,OADAR,EAAGP,SACIa,GAgBiDP,IACxDd,EAAG,aAAYI,GAAMoB,GAAG,SAAS,WAC7BxB,EAAEyB,MAAMjB,SACRL,EAAWC,OAInBJ,EAAE,kBAAkBwB,GAAG,SAAS,WAC5Bb,EAAUX,EAAEyB,MAAMC,KAAK,eACnB1B,EAAEyB,MAAMC,KAAK,kBACb1B,EAAE,+BAA+B2B,UAIzC3B,EAAE,mBAAmBwB,GAAG,SAAS,WAC7B,MAAMI,EAAU5B,EAAEyB,MAAMI,QAAQ,UAAUH,KAAK,MAC/CvB,EAAWyB,MAGf5B,EAAE,mCAAmCwB,GAAG,SAAS,WAC7C,MAAMM,EAAW9B,EAAEyB,MAAMI,QAAQ,0BAC3BE,EAAcD,EAASE,KAAK,kCAClCF,EAASG,YAAY,UACrBF,EAAYE,YAAY,UACxBF,EAAYG,YAAY,QAGNlC,EAAE,qBAEVmC,MAAK,WACfnC,EAAEyB,MAAMW,QAAQ,CACZC,YAAa,aACbC,iBAAkB,QAClBC,yBAA0B,EAC1BlB,MAAO,OACPmB,eAAgBxC,EAAEyB,MAAMI,QAAQ,wBAIxC7B,EAAE,sBAAsBwB,GAAG,SAAS,WAChCxB,EAAEyB,MAAME,OACR3B,EAAEyB,MAAMgB,SAAS,uBAAuB/B,UAG5C,MAAMgC,EAAeA,CAACC,EAASC,KAC3B,GAAIC,OAAOxB,MAAQuB,EAAY,OAC/B,MAAME,EAAWH,EAAQjB,KAAK,kBACxBqB,EAAcJ,EAAQjB,KAAK,sBAC3BsB,EAAQL,EAAQM,WAEtB,GADiBD,EAAME,QACPJ,EAAU,OAC1BE,EAAMb,MAAK,SAAUgB,GACbA,GAASL,GAAU9C,EAAEyB,MAAME,OAAOf,SAAS,aAGnD+B,EAAQ9B,OADc,yFAEtB,MAAMuC,EAAaT,EAAQX,KAAK,gBAChCoB,EAAW5B,GAAG,SAAS,WACnB,MAAM6B,EAAcV,EAAQM,SAAS,WACjCI,EAAYH,QAAUH,GAAaK,EAAW5C,SAClD6C,EAAYlB,MAAK,SAAUgB,GACnBA,EAAQJ,GAAa/C,EAAEyB,MAAMf,OAAOH,YAAY,iBAKhEP,EAAE,iBAAiBmC,MAAK,WACpBO,EAAa1C,EAAEyB,MAAO","file":"main.min.js","sourcesContent":["$(document).ready(function () {\r\n\r\n    const getScrollBarWidth = () => {\r\n        let el = document.createElement(\"div\");\r\n        el.style.cssText = \"overflow:scroll; position:absolute;\";\r\n        document.body.appendChild(el);\r\n        let width = el.offsetWidth - el.clientWidth;\r\n        el.remove();\r\n        return width;\r\n    }\r\n\r\n    const closeModal = (id) => {\r\n        const modal = $(`.modal#${id}`)\r\n        const burger = $('.header__mobile-menu-toggle')\r\n        modal.removeClass('opened')\r\n        $(`#modalBg--${id}`).remove()\r\n        $('body').removeClass('modal-opened').css('padding-right', 0)\r\n        burger.css('display') === 'none' &&  burger.show()\r\n    }\r\n\r\n    const openModal = (id) => {\r\n        const modal = $(`.modal#${id}`)\r\n        modal.addClass('opened')\r\n        modal.append(`<div class=\"modal-bg\" id=\"modalBg--${id}\"></div>`)\r\n        $('body').addClass('modal-opened').css('padding-right', getScrollBarWidth())\r\n        $(`#modalBg--${id}`).on('click', function () {\r\n            $(this).remove()\r\n            closeModal(id)\r\n        })\r\n    }\r\n\r\n    $('.js-open-modal').on('click', function () {\r\n        openModal($(this).attr('data-modal'))\r\n        if ($(this).attr('data-mob-menu')) {\r\n            $('.header__mobile-menu-toggle').hide()\r\n        }\r\n    })\r\n\r\n    $('.js-close-modal').on('click', function () {\r\n        const modalId = $(this).parents('.modal').attr('id')\r\n        closeModal(modalId)\r\n    })\r\n\r\n    $('.js-toggle-mobile-menu-dropdown').on('click', function () {\r\n        const menuItem = $(this).parents('.mobile-menu-nav__item')\r\n        const dropdownBox = menuItem.find('.mobile-menu-nav__dropdown-box')\r\n        menuItem.toggleClass('opened')\r\n        dropdownBox.toggleClass('opened')\r\n        dropdownBox.slideToggle(200)\r\n    })\r\n\r\n    const searchSelects = $(\".js-search-select\")\r\n\r\n    searchSelects.each(function () {\r\n        $(this).select2({\r\n            placeholder: 'Тип работы',\r\n            dropdownPosition: 'below',\r\n            minimumResultsForSearch: -1,\r\n            width: '100%',\r\n            dropdownParent: $(this).parents('.select-wrapper')\r\n        })\r\n    })\r\n\r\n    $('.js-show-promocode').on('click', function () {\r\n        $(this).hide()\r\n        $(this).siblings('.js-promocode-input').show()\r\n    })\r\n\r\n    const hideExcesses = (element, resolution) => {\r\n        if (screen.width > resolution) return\r\n        const maxItems = element.attr('data-max-items')\r\n        const itemsToShow = element.attr('data-items-to-show')\r\n        const items = element.children()\r\n        const itemsQty = items.length\r\n        if (itemsQty <= maxItems) return\r\n        items.each(function (index) {\r\n            if (index >= maxItems) $(this).hide().addClass('hidden')\r\n        })\r\n        const moreBtnMarkup = '<button class=\"more-button js-more-btn common-btn common-btn--purple\">Ещё...</button>'\r\n        element.append(moreBtnMarkup)\r\n        const moreBtnDom = element.find('.js-more-btn')\r\n        moreBtnDom.on('click', function () {\r\n            const hiddenItems = element.children('.hidden')\r\n            if (hiddenItems.length <= itemsToShow) moreBtnDom.remove()\r\n            hiddenItems.each(function (index) {\r\n                if (index < itemsToShow) $(this).show().removeClass('hidden')\r\n            })\r\n        })\r\n    }\r\n\r\n    $('.js-hide-some').each(function () {\r\n        hideExcesses($(this), 991)\r\n    })\r\n});\r\n\r\n\r\n"]}