"use strict";$(document).ready((function(){function e(e,t){const o=document.createElement("script");o.onload=function(){t()},o.src=e,document.getElementsByTagName("head")[0].appendChild(o)}const t=e=>{const t=$(".modal#"+e),o=$(".header__mobile-menu-toggle");t.removeClass("opened"),$("#modalBg--"+e).remove(),$("body").removeClass("modal-opened").css("padding-right",0),"none"===o.css("display")&&o.show()},o=e=>{const o=$(".modal#"+e);o.addClass("opened"),o.append(`<div class="modal-bg" id="modalBg--${e}"></div>`),$("body").addClass("modal-opened").css("padding-right",(()=>{let e=document.createElement("div");e.style.cssText="overflow:scroll; position:absolute;",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t})()),$("#modalBg--"+e).on("click",(function(){$(this).remove(),t(e)}))};$(".js-open-modal").on("click",(function(){o($(this).attr("data-modal")),$(this).attr("data-mob-menu")&&$(".header__mobile-menu-toggle").hide()})),$(".js-close-modal").on("click",(function(){const e=$(this).parents(".modal").attr("id");t(e)})),$(".js-toggle-mobile-menu-dropdown").on("click",(function(){const e=$(this).parents(".mobile-menu-nav__item"),t=e.find(".mobile-menu-nav__dropdown-box");e.toggleClass("opened"),t.toggleClass("opened"),t.slideToggle(200)}));$(".js-search-select").each((function(){$(this).select2({placeholder:"Тип работы",dropdownPosition:"below",minimumResultsForSearch:-1,width:"100%",dropdownParent:$(this).parents(".select-wrapper")})})),$(".js-show-promocode").on("click",(function(){$(this).hide(),$(this).siblings(".js-promocode-input").show()}));const n=(e,t)=>{if(screen.width>t)return;const o=e.attr("data-max-items"),n=e.attr("data-items-to-show"),s=e.children();if(s.length<=o)return;s.each((function(e){e>=o&&$(this).hide().addClass("hidden")}));e.append('<button class="more-button js-more-btn common-btn common-btn--purple">Ещё...</button>');const a=e.find(".js-more-btn");a.on("click",(function(){const t=e.children(".hidden");t.length<=n&&a.remove(),t.each((function(e){e<n&&$(this).show().removeClass("hidden")}))}))};$(".js-hide-some").each((function(){n($(this),991)}));new Swiper(".js-testimonials-slider",{slidesPerView:1,loop:!0,autoHeight:!0,navigation:{prevEl:".swiper-button--prev",nextEl:".swiper-button--next"},breakpoints:{992:{slidesPerView:2,spaceBetween:20},1365:{slidesPerView:3,spaceBetween:20}}}),new Swiper(".js-work-examples-slider",{slidesPerView:1,loop:!0,autoHeight:!0,breakpoints:{992:{slidesPerView:2,spaceBetween:20},1365:{slidesPerView:3,spaceBetween:20}}});$(".js-accordion-toggle").on("click",(function(){$(this).hasClass("opened")?($(this).next(".js-accordion-head").slideUp(300).removeClass("opened"),$(this).removeClass("opened")):($(this).next(".js-accordion-head").slideDown(300).addClass("opened"),$(this).addClass("opened"))}));const s=document.getElementById("mainMap");async function a(){await ymaps3.ready;const{YMap:e,YMapDefaultSchemeLayer:t,YMapDefaultFeaturesLayer:o,YMapControls:n}=ymaps3,{YMapZoomControl:s}=await ymaps3.import("@yandex/ymaps3-controls@0.0.1"),{YMapDefaultMarker:a}=await ymaps3.import("@yandex/ymaps3-markers@0.0.1"),i=new e(document.getElementById("mainMap"),{location:{center:[37.591701,55.749385],zoom:16},behaviors:["pinchZoom","drag"]});i.addChild(new t),i.addChild(new o),i.addChild(new n({position:"left"}).addChild(new s));i.addChild(new a({coordinates:[37.591701,55.749385],popup:{content:"<div><strong>Офис Work5</strong><div>\n                               <div>офис 468, этаж 4</div>",position:"right"}}))}let i=$(s).visible(!0);const d=()=>{i=$(s).visible(!0),i&&(e("https://api-maps.yandex.ru/v3/?apikey=b94d7ec3-5178-446e-81c0-18bb45ea93c8&lang=ru_RU",a),window.removeEventListener("scroll",d))};i?e("https://api-maps.yandex.ru/v3/?apikey=b94d7ec3-5178-446e-81c0-18bb45ea93c8&lang=ru_RU",a):window.addEventListener("scroll",d,{passive:!0});$(".js-validator").on("submit",(function(e){$(this).find(".js-input-required").each((function(){const t=$(this).val(),o=$(this).attr("data-validator-type"),n=((e,t,o)=>{let n="";if(validator.isEmpty(t))return n="Необходимо заполнить",n;switch(o){case"email":validator.isEmail(t)||(n="Не похоже на e-mail")}return n})($(this),t,o);var s,a;validator.isEmpty(n)?(e=>{e.removeClass("has-error"),e.next(".validation-error").remove()})($(this)):(e.preventDefault(),s=$(this),a=n,s.addClass("has-error"),s.next(".validation-error").remove(),s.after(`<div class="validation-error">${a}</div>`),setTimeout((function(){s.next(".validation-error").remove()}),5e3))}))}));var r,l;$(".contacts-pg").length>0&&(r="Владивосток",l="./data/contacts.json",$.getJSON(l,(function(e){const t=e.find(e=>e.name===r),[o,n]=[t.phone,t.mail],s=o.replace(/\W/g,"");$(".js-contacts-phone").text(o).attr("href","tel:"+s).removeClass("placeholder"),$(".js-contacts-mail").text(n).attr("href","mailto:"+n).removeClass("placeholder")})))}));
//# sourceMappingURL=main.min.js.map
